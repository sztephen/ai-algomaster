:root {
    --bg-main: #171a21;
    --bg-surface: #232833;
    --bg-surface-soft: #262d3a;
    --border-soft: #3b4658;
    --text-main: #d5dceb;
    --text-muted: #95a0b5;
    --accent: #3c97f4;
    --accent-strong: #1f7ad7;
    --accent-cyan: #1dc8f2;
    --success: #2ea043;
    --warning: #ffd343;
    --danger: #f85149;
    --ease-standard: cubic-bezier(0.22, 1, 0.36, 1);
    --ease-soft: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --duration-fast: 180ms;
    --duration-base: 320ms;
    --duration-slow: 540ms;
}

html,
body {
    background-color: var(--bg-main);
}

body {
    font-family: "Space Grotesk", "Avenir Next", "Segoe UI", sans-serif;
    color: var(--text-main);
}

#root {
    isolation: isolate;
}

.ui-title {
    font-family: "Sora", "Space Grotesk", sans-serif;
    letter-spacing: -0.02em;
}

.modern-ambient {
    background-image:
        radial-gradient(1200px 600px at -10% -10%, rgba(60, 151, 244, 0.14), transparent 65%),
        radial-gradient(1000px 560px at 110% 120%, rgba(29, 200, 242, 0.12), transparent 62%),
        linear-gradient(140deg, rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0));
}

.ambient-orb {
    animation: drift 16s var(--ease-soft) infinite alternate;
}

.ambient-orb.alt {
    animation-duration: 22s;
    animation-delay: -6s;
}

.surface-panel {
    position: relative;
    background: linear-gradient(160deg, rgba(47, 54, 69, 0.9), rgba(36, 42, 54, 0.95));
    border: 1px solid rgba(76, 92, 116, 0.55);
    box-shadow: 0 25px 45px rgba(5, 10, 20, 0.42), inset 0 1px 0 rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(9px);
}

.surface-panel::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    border-radius: inherit;
    background: linear-gradient(120deg, rgba(255, 255, 255, 0.05), transparent 45%);
}

.modern-btn {
    transition:
        transform var(--duration-fast) var(--ease-standard),
        box-shadow var(--duration-base) var(--ease-standard),
        background-color var(--duration-fast) var(--ease-standard),
        border-color var(--duration-fast) var(--ease-standard),
        color var(--duration-fast) var(--ease-standard);
}

.modern-btn:hover:not(:disabled) {
    transform: translateY(-1px);
}

.modern-btn:active:not(:disabled) {
    transform: translateY(0) scale(0.985);
}

.modern-btn-primary:hover:not(:disabled) {
    box-shadow: 0 10px 24px rgba(31, 122, 215, 0.35);
}

.modern-btn-accent:hover:not(:disabled) {
    box-shadow: 0 10px 24px rgba(29, 200, 242, 0.28);
}

.modern-btn-outline:hover:not(:disabled) {
    box-shadow: 0 6px 16px rgba(16, 20, 31, 0.35);
}

.modern-input {
    transition:
        border-color var(--duration-fast) var(--ease-standard),
        box-shadow var(--duration-fast) var(--ease-standard),
        background-color var(--duration-fast) var(--ease-standard);
}

.modern-input:focus {
    border-color: rgba(60, 151, 244, 0.95) !important;
    box-shadow: 0 0 0 3px rgba(60, 151, 244, 0.18);
}

.problem-card {
    position: relative;
    transform-origin: center bottom;
    will-change: transform;
    transition:
        transform var(--duration-base) var(--ease-standard),
        border-color var(--duration-fast) var(--ease-standard),
        box-shadow var(--duration-base) var(--ease-standard),
        background-color var(--duration-fast) var(--ease-standard);
}

.problem-card::before {
    content: "";
    position: absolute;
    inset: -1px;
    border-radius: inherit;
    pointer-events: none;
    opacity: 0;
    background: linear-gradient(120deg, transparent 20%, rgba(60, 151, 244, 0.22), transparent 80%);
    transform: translateX(-120%);
}

.problem-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 34px rgba(6, 12, 22, 0.36), 0 0 0 1px rgba(60, 151, 244, 0.2);
}

.problem-card:hover::before {
    opacity: 1;
    transform: translateX(120%);
    transition: transform 1200ms var(--ease-soft), opacity var(--duration-fast) var(--ease-standard);
}

.message-in {
    animation: messageIn 360ms var(--ease-standard) both;
}

.typing-dot {
    animation: typingDot 1s var(--ease-soft) infinite;
}

.thinking-indicator {
    animation: floatBob 1.8s var(--ease-soft) infinite;
}

.subtle-status {
    animation: statusPulse 2.4s var(--ease-soft) infinite;
}

@keyframes drift {
    0% {
        transform: translate3d(0, 0, 0) scale(1);
    }

    50% {
        transform: translate3d(14px, -16px, 0) scale(1.08);
    }

    100% {
        transform: translate3d(-8px, 12px, 0) scale(0.96);
    }
}

@keyframes fadeIn {
    0% {
        opacity: 0;
        transform: translateY(8px) scale(0.992);
        filter: blur(5px);
    }

    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
        filter: blur(0);
    }
}

@keyframes fadeInUp {
    0% {
        opacity: 0;
        transform: translateY(16px) scale(0.985);
        filter: blur(4px);
    }

    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
        filter: blur(0);
    }
}

@keyframes fadeInDown {
    0% {
        opacity: 0;
        transform: translateY(-12px);
    }

    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes messageIn {
    0% {
        opacity: 0;
        transform: translateY(8px) scale(0.98);
    }

    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes typingDot {
    0%,
    80%,
    100% {
        transform: translateY(0);
        opacity: 0.35;
    }

    40% {
        transform: translateY(-5px);
        opacity: 1;
    }
}

@keyframes floatBob {
    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-2px);
    }
}

@keyframes statusPulse {
    0%,
    100% {
        box-shadow: 0 0 0 0 rgba(46, 160, 67, 0.2);
    }

    50% {
        box-shadow: 0 0 0 6px rgba(46, 160, 67, 0);
    }
}

.animate-fade-in {
    animation: fadeIn 380ms var(--ease-standard) forwards;
}

.animate-fade-in-up {
    animation: fadeInUp 440ms var(--ease-standard) forwards;
}

.animate-fade-in-down {
    animation: fadeInDown 360ms var(--ease-standard) forwards;
}

/* Custom Scrollbar for dark theme */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #1a1d24;
}

::-webkit-scrollbar-thumb {
    background: #3f4653;
    border-radius: 999px;
}

::-webkit-scrollbar-thumb:hover {
    background: #596273;
}

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 1ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 1ms !important;
        scroll-behavior: auto !important;
    }
}
